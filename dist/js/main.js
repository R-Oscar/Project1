var tooltips=function(){var o=0,e="#e0ad9a";return createToolTip=function(t,i,n){t.css("outline","1px solid "+e);var c=t.parent();c.append('<div class="error_block'+("right"===n?"_right":"")+" tooltip"+o+'">'+i+"</div>");var a=c.find("div").width(),r=$(".tooltip"+o);r.css("top","8px"),r.css(n,-a-17+"px"),o++},removeToolTip=function(o){o.css("outline","none"),o.parent().find("div.error_block").remove(),o.parent().find("div.error_block_right").remove()},removeToolTips=function(e){$.each(e,function(o,e){removeToolTip(e),e.val("")}),$("label.input").text("Загрузите изображение"),o=0},hasToolTip=function(o){return""!==o.parent().find("div.error_block")},{createToolTip:createToolTip,removeToolTip:removeToolTip,removeToolTips:removeToolTips,hasToolTip:hasToolTip}}();$(document).ready(function(){var o=function(){function o(){e()}function e(){$("#new_project").on("click",_showModal),$("#login").on("click",_showAuth),$("#send_project_form").on("click",_validateFields),$("#reset_feedback").on("click",function(o){tooltips.removeToolTips(n),$.each(n,function(o,e){e.attr("placeholder",r[o])})}),$("input, textarea").on("keydown",function(o){tooltips.removeToolTip($(this))}),$("#file").change(function(o){var e=$.trim($(this).val()),i="";""===e?(i="Загрузите изображение",t.pic.val("")):(tooltips.hasToolTip(t.pic)&&tooltips.removeToolTip(t.pic),t.pic.val(e),i=e),$("label.input").text(i)}),$("#send_feedback").click(_validateFeedBack),$.browser.msie&&$("label").click(function(){""!=$(this).attr("for")&&$("#"+$(this).attr("for")).click()})}var t={name:$("#project_name"),pic:$("#project_picture"),url:$("#project_url"),desc:$("#project_desc")},i={name:"введите название",pic:"изображение",url:"ссылка на проект",desc:"описание проекта"},n={name:$("#form_name"),mail:$("#form_email"),msg:$("#form_letter"),captcha:$("#form_captcha")},c={name:"укажите имя",mail:"введите адрес почты",msg:"заполните письмо",captcha:"введите символы"},a={name:"left",mail:"right",msg:"left",captcha:"right"},r={name:"Как к Вам обращаться",mail:"Куда мне писать",msg:"Кратко в чём суть",captcha:"Введите код"};return _showModal=function(o){o.preventDefault(),$("#add_project").bPopup({speed:650,transition:"fadeIn",onClose:function(){tooltips.removeToolTips(t)}})},_showAuth=function(o){$("#auth").bPopup({speed:650,transition:"fadeIn"})},_validateFields=function(o){o.preventDefault(),$.each(t,function(o,e){_checkField(e,i[o],"left")})},_validateFeedBack=function(o){o.preventDefault(),$.each(n,function(o,e){_checkField(e,c[o],a[o])})},_checkField=function(o,e,t){""===$.trim(o.val())&&tooltips.createToolTip(o,e,t)},{init:o}}();o.init()});